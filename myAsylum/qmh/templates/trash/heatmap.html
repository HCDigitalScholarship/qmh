
<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div id="heatmap_monthly_admission"></div>
  
  <script>
    
    {% include "heatmapAxes.html" %}

    <!-- sorting out the .map() was the hardest step -->
    var text = z.map((mo, i) => mo.map((n, j) => {
      <!-- the return section cannot be indented -->
      return `
Month: ${y[i]}<br>
Year: ${x[j]}<br>
Admitted: ${n} patient(s)
`
    }))

    Plotly.plot('heatmap_monthly_admission', [{
      type: 'heatmap',
      x: x,
      y: y,
      z: z,
      text: text,
      hoverinfo: 'text',
      <!-- colorscale is not working; I want it blue, but it gives me red -->
      colorscale: [
        ['0', 'rgb(255,255,255)'],
        ['100', 'rgb(0,0,255)']
      ],
    }], {
      xaxis: { title: 'Year' },
      yaxis: { title: 'Month' }
    });

  </script>
  
</body>